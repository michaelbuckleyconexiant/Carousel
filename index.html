<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cartoon Slider</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Poppins', sans-serif;
    }
    .slider-container {
      width: 100%;
      margin: 40px auto;
      padding: 30px 0;
      background: #fff;
      border-top: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
    }
    .slider-wrapper {
      position: relative;
      width: 100%;
    }
    .slider-inner {
      position: relative;
      width: 100%;
      transition: height 0.4s ease;
    }
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 0.6s ease;
      z-index: 0;
      pointer-events: none;
    }
    .slide.active {
      opacity: 1;
      z-index: 1;
      pointer-events: auto;
      position: relative;
    }
    .image-container {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      overflow: hidden;
      border-radius: 10px;
    }
    .slider-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .hover-zone {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 2;
    }
    .image-container:hover .hover-zone {
      opacity: 1;
    }
    .hover-zone.left {
      left: 0;
      background: linear-gradient(to right, rgba(0, 0, 0, 0.4), transparent);
    }
    .hover-zone.right {
      right: 0;
      background: linear-gradient(to left, rgba(0, 0, 0, 0.4), transparent);
    }
    .hover-zone i {
      color: white;
      font-size: 2em;
      cursor: pointer;
    }
    .magnify-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.3em;
      color: white;
      background: rgba(0, 0, 0, 0.6);
      padding: 8px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 3;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .image-container:hover .magnify-icon {
      opacity: 1;
    }
    .caption {
      text-align: center;
      margin-top: 15px;
      color: #333;
      padding: 0 15px;
    }
    .bottom-navigation {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 30px;
    }
    .bottom-nav-button {
      background-color: #1B75BC;
      color: white;
      border: none;
      padding: 8px 15px;
      margin: 0 5px;
      border-radius: 5px;
      cursor: pointer;
      outline: none;
    }
    .bottom-counter {
      color: #555;
      margin: 0 10px;
      min-width: 60px;
      text-align: center;
    }
    .lightbox {
      display: none;
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
    }
    .lightbox.show {
      display: flex;
    }
    .lightbox img {
      max-width: 90%;
      max-height: 80%;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
    }
    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 30px;
      color: white;
      font-size: 2em;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div style="max-width: 800px; margin: 0 auto;">

<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec tempus elit. Donec consequat non ex auctor sodales. Maecenas vel malesuada odio, sit amet tincidunt urna. Sed a dignissim dui. Sed placerat, diam eget finibus egestas, magna felis porta elit, vitae convallis arcu ex non risus. Nullam felis sem, mattis eu hendrerit vitae, mollis ac diam. Proin at diam quam. Nam a convallis nulla. Mauris orci urna, tristique sed nunc non, facilisis euismod quam. Cras sagittis, augue in auctor porttitor, sapien libero convallis ante, at pretium diam eros sit amet enim. Donec egestas sapien metus, eu suscipit nisi varius eu. </p>

<div class="slider-container">
  <div class="slider-wrapper">
    <div class="slider-inner">

      <div class="slide active">
        <div class="image-container">
          <img class="slider-image" src="img/pic1.jpg" alt="Slide 1">
          <i class="fas fa-search magnify-icon" onclick="openLightbox('img/pic1.jpg')"></i>
          <div class="hover-zone left" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></div>
          <div class="hover-zone right" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></div>
        </div>
        <div class="caption">
          <h3>Heading for Slide 1</h3>
          <p>Caption text for slide 1 goes here. It may be longer and should adjust properly.</p>
        </div>
      </div>

      <div class="slide">
        <div class="image-container">
          <img class="slider-image" src="img/pic2.jpg" alt="Slide 2">
          <i class="fas fa-search magnify-icon" onclick="openLightbox('img/pic2.jpg')"></i>
          <div class="hover-zone left" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></div>
          <div class="hover-zone right" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></div>
        </div>
        <div class="caption">
          <h3>Heading for Slide 2</h3>
          <p>Short caption for slide 2.</p>
        </div>
      </div>

      <div class="slide">
        <div class="image-container">
          <img class="slider-image" src="img/pic3.jpg" alt="Slide 3">
          <i class="fas fa-search magnify-icon" onclick="openLightbox('img/pic3.jpg')"></i>
          <div class="hover-zone left" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></div>
          <div class="hover-zone right" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></div>
        </div>
        <div class="caption">
          <h3>Heading for Slide 3</h3>
          <p>Another caption that might be taller than the others. Let's see how it adjusts.</p>
        </div>
      </div>

      <div class="slide">
        <div class="image-container">
          <img class="slider-image" src="img/pic4.jpg" alt="Slide 4">
          <i class="fas fa-search magnify-icon" onclick="openLightbox('img/pic4.jpg')"></i>
          <div class="hover-zone left" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></div>
          <div class="hover-zone right" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></div>
        </div>
        <div class="caption">
          <h3>Heading for Slide 4</h3>
          <p>Last slide caption.</p>
        </div>
      </div>

    </div>
  </div>

  <div class="bottom-navigation">
    <button id="bottomPrevBtn" class="bottom-nav-button"><i class="fa-solid fa-chevron-left"></i></button>
    <span id="bottomCounter" class="bottom-counter"><span class="current">1</span> / <span class="total">4</span></span>
    <button id="bottomNextBtn" class="bottom-nav-button"><i class="fa-solid fa-chevron-right"></i></button>
  </div>
</div>

<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam nec tempus elit. Donec consequat non ex auctor sodales. Maecenas vel malesuada odio, sit amet tincidunt urna. Sed a dignissim dui. Sed placerat, diam eget finibus egestas, magna felis porta elit, vitae convallis arcu ex non risus. Nullam felis sem, mattis eu hendrerit vitae, mollis ac diam. Proin at diam quam. Nam a convallis nulla. Mauris orci urna, tristique sed nunc non, facilisis euismod quam. Cras sagittis, augue in auctor porttitor, sapien libero convallis ante, at pretium diam eros sit amet enim. Donec egestas sapien metus, eu suscipit nisi varius eu. </p>

<div id="lightbox" class="lightbox" onclick="handleLightboxClick(event)">
  <span class="lightbox-close" onclick="closeLightbox()"><i class="fa-solid fa-xmark"></i></span>
  <img id="lightbox-img" src="" alt="Full View">
</div>

<script>
  const slides = document.querySelectorAll('.slide');
  const bottomCounter = document.getElementById('bottomCounter');
  const bottomPrevBtn = document.getElementById('bottomPrevBtn');
  const bottomNextBtn = document.getElementById('bottomNextBtn');
  const sliderInner = document.querySelector('.slider-inner');

  let currentIndex = 0;
  const totalSlides = slides.length;

  function updateSlider() {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === currentIndex);
    });

    const activeSlide = slides[currentIndex];
    const newHeight = activeSlide.offsetHeight;
    sliderInner.style.height = `${newHeight}px`;

    bottomCounter.querySelector('.current').textContent = currentIndex + 1;
    bottomCounter.querySelector('.total').textContent = totalSlides;
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % totalSlides;
    updateSlider();
  }

  function prevSlide() {
    currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
    updateSlider();
  }

  bottomNextBtn.addEventListener('click', nextSlide);
  bottomPrevBtn.addEventListener('click', prevSlide);

  function openLightbox(src) {
    document.getElementById('lightbox-img').src = src;
    document.getElementById('lightbox').classList.add('show');
  }

  function closeLightbox() {
    document.getElementById('lightbox').classList.remove('show');
    document.getElementById('lightbox-img').src = '';
  }

  function handleLightboxClick(e) {
    if (!document.getElementById('lightbox-img').contains(e.target)) {
      closeLightbox();
    }
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') closeLightbox();
  });

  window.addEventListener('load', updateSlider);
  window.addEventListener('resize', updateSlider);
</script>

</body>
</html>
